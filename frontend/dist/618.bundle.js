"use strict";(self.webpackChunkmasih_revisi=self.webpackChunkmasih_revisi||[]).push([[618],{618:(e,n,t)=>{function s(){document.getElementById("app").innerHTML='\n    <section class="screen">\n      <button class="back-btn" id="btn-back" title="Kembali">\n        <i class="fas fa-arrow-left"></i>\n      </button>\n      <div class="logo-group">\n        <img src="./assets/logo.png" class="logo-icon" />\n      </div>\n      <h2>Login</h2>\n      <p style="font-size:0.9rem; color:#fefefe;">Welcome back! Please login to your account</p>\n      <form id="login-form" class="form-grid">\n        <div class="input-icon">\n          <i class="fas fa-envelope"></i>\n          <input type="email" placeholder="Email address" required />\n        </div>\n        <div class="input-icon">\n          <i class="fas fa-lock"></i>\n          <input type="password" id="login-password" placeholder="Password" required />\n          <button type="button" class="toggle-password" tabindex="-1">\n            <i class="fas fa-eye"></i>\n          </button>\n        </div>\n        <button type="submit" class="btn-primary">Login</button>\n      </form>\n      <small>Don\'t have an account? <a href="#" id="link-signup">Sign Up</a></small>\n    </section>\n  ',document.querySelector(".toggle-password").addEventListener("click",(function(){const e=document.getElementById("login-password"),n=this.querySelector("i");"password"===e.type?(e.type="text",n.classList.remove("fa-eye"),n.classList.add("fa-eye-slash")):(e.type="password",n.classList.remove("fa-eye-slash"),n.classList.add("fa-eye"))})),document.getElementById("btn-back").addEventListener("click",(()=>{Promise.resolve().then(t.bind(t,715)).then((e=>e.renderOpening()))})),document.getElementById("link-signup").addEventListener("click",(e=>{e.preventDefault(),t.e(271).then(t.bind(t,271)).then((e=>e.renderSignup()))})),document.getElementById("login-form").addEventListener("submit",(async e=>{e.preventDefault();const n=document.querySelector('input[type="email"]').value,s=document.getElementById("login-password").value;try{const e=await fetch("https://apidiaw-production.up.railway.app/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s})});if(!e.ok)throw new Error("Login gagal");const a=await e.json();localStorage.setItem("token",a.token),localStorage.setItem("profileData",JSON.stringify(a.user)),t.e(741).then(t.bind(t,175)).then((e=>e.renderDashboard()))}catch(e){alert("Login gagal: "+e.message)}}))}t.r(n),t.d(n,{renderLogin:()=>s}),t(62)}}]);